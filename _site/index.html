<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>  Calendar X </title>
  
  <link rel='stylesheet' type='text/css' href='/stylesheets/fullcalendar.css' />
  <link rel='stylesheet' type='text/css' href='/stylesheets/styles.css' />
<script src="http://cdn.jquerytools.org/1.2.7/full/jquery.tools.min.js"></script>
  <script type='text/javascript' src='/javascript/date.format.js'></script>
  <script type='text/javascript' src='/javascript/fullcalendar.js'></script>
  <script type='text/javascript' src='/javascript/multimap.js'></script>
  <script>
$(document).ready(function() {
    var dayPosts = new MultiMap;

    
      dayPosts.put( 
        '2012-05-07', 
        {
          title: 'Bikes, Black and White',
          url: '/2012/05/07/bikes.html'
        });
    
      dayPosts.put( 
        '2012-04-29', 
        {
          title: 'asadasda',
          url: '/2012/04/29/bikesyeaa.html'
        });
    
      dayPosts.put( 
        '2012-04-29', 
        {
          title: 'MMMMMMM',
          url: '/2012/04/29/bikes.html'
        });
    
      dayPosts.put( 
        '2010-10-01', 
        {
          title: 'Wing and a Prayer',
          url: '/2010/10/01/wing2.html'
        });
    
      dayPosts.put( 
        '2010-10-01', 
        {
          title: 'Wing and a Prayer',
          url: '/2010/10/01/wing.html'
        });
    

    $('#calendar').fullCalendar({
      header: {
        left: 'prev,next today',
        center: 'title',
        right: ''
      },
      editable: true,
      dayRender: function(cell, date) {
        var day = date.format("yyyy-mm-dd");
        var posts = dayPosts[day];
        if (posts !== undefined){
          cell.addClass('fc-xdate');
          cell.attr('rel', '#overlay')
            //.append('<img src="../images/x.png">');
          cell.click(function() {
            showDayPosts(posts);
          });
        }
      }
    });

    function showDayPosts(posts){
      $.each(
          posts,
          function(){
            var url = this['url'];

            $("#overlay").overlay({         
                mask: 'darkred',
                effect: 'apple',         
                onBeforeLoad: function() {         
                    // grab wrapper element inside content
                    var wrap = this.getOverlay().find(".contentWrap");         
                    // load the page specified in the trigger
                    wrap.load(url);
                }   
            }).load();
          }
        );
    }
});



  </script>
</head>
<body>
  <div id="main"> 
    <header>
      <h1> Calendar X </h1>
    </header>

    <div id="calendar"></div>

    <div class="simple_overlay" id="overlay">
      <div class="contentWrap">ghdfhdfg</div>
    </div>

    <footer>
      <p>Github link here?</p>
    </footer>
  </div>
</body>
</html>